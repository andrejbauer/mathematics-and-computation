name: Andrej Bauer
date: '2009-04-09 23:16:52'
url: 'http://andrej.com/'
message: "First a reply to ludwig: yes, thank you, that's what I get for changing the source without rechecking if it still works. I fixed it.\r\n\r\nA reply to goodger: this is not a popularity contest. My motivation is not to get a maximum number of replies. I prefer fewer well though out replies than a lot of fly-by comments. If registration is too much burden for you, then don't register. Anyhow, thank you for your comment.\r\n\r\nI thank everyone else for their explanations. I still wonder how I should explain this to my students (beginners, some of them have not seen any other programming language in their lives).\r\n\r\nAfter seeing some of your posts, I discovered a much bigger horror in Python:\r\n<blockquote><pre>>>> i\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nNameError: name 'i' is not defined\r\n>>> [i for i in range(10)]\r\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n>>> i\r\n9</module></stdin></pre></blockquote>\r\nOh my, <code>i</code> is still defined after the list comprehension. This is certainly unexpected. Same thing for loops:\r\n<blockquote><pre>>>> j\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nNameError: name 'j' is not defined\r\n>>> for j in range(10): pass\r\n... \r\n>>> j\r\n9</module></stdin></pre></blockquote>\r\nWhile I could accept the explanation about how closures capture the location and not the value, this really is a design error. The loop variable ough to be local to the loop. But I suppose I get what I deserve for using a dynamic language."
email: 59d57d95bc7c45ced5f1969279cec06b
