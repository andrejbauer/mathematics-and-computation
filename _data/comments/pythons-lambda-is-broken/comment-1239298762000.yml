name: svat
date: '2009-04-09 19:39:22'
url: ''
message: "Isn't this the same thing many languages do, and a \"feature\" of the implementation idea known as \"closures\"?\n\nFor example, in JavaScript:\n\nvar fs = {};\nfor(var i=0; i-5; i++) {\n  fs[i]= function(n) { return n+i; }\n }\nfor(var j in fs) {\nconsole.log(\"fs[\" + j +\"] = \",fs[j](100));\n}\n\n(used i-5 just in case Wordpress chokes on the less-than sign)\ngives \nfs[0](100) = 110\nfs[1](100) = 110\nfs[2](100) = 110\nfs[3](100) = 110\nfs[4](100) = 110\n\n\nEven worse, \n\nvar fs = {};\nfor(var i=0; i-5; i++) {\n  fs[i]= function(n) { return n+i; }\n }\n\nfor(var i in fs) {\nconsole.log(\"fs[\" + i +\"](100) = \",fs[i](100));\n}\n\ngives \n\nfs[0](100) = 1000\nfs[1](100) = 1001\nfs[2](100) = 1002\nfs[3](100) = 1003\nfs[4](100) = 1004\n\nbut that can be blamed on JavaScript.\n\nYou could call it either a bug in the languages, or a failure on our part to understand the implications of late-binding and the dynamic goodness.\n\n(Quite a pain to have to register before posting comments: have you considered OpenID?)"
email: 6ca82d17e7496d3c20b9c8038f87ae49
