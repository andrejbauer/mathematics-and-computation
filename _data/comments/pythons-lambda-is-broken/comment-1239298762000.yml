name: svat
date: '2009-04-09 19:39:22'
url: ''
message: "Isn't this the same thing many languages do, and a \"feature\" of the implementation idea known as \"closures\"?\r\n\r\nFor example, in JavaScript:\r\n\r\nvar fs = {};\r\nfor(var i=0; i-5; i++) {\r\n  fs[i]= function(n) { return n+i; }\r\n }\r\nfor(var j in fs) {\r\nconsole.log(\"fs[\" + j +\"] = \",fs[j](100));\r\n}\r\n\r\n(used i-5 just in case Wordpress chokes on the less-than sign)\r\ngives \r\nfs[0](100) = 110\r\nfs[1](100) = 110\r\nfs[2](100) = 110\r\nfs[3](100) = 110\r\nfs[4](100) = 110\r\n\r\n\r\nEven worse, \r\n\r\nvar fs = {};\r\nfor(var i=0; i-5; i++) {\r\n  fs[i]= function(n) { return n+i; }\r\n }\r\n\r\nfor(var i in fs) {\r\nconsole.log(\"fs[\" + i +\"](100) = \",fs[i](100));\r\n}\r\n\r\ngives \r\n\r\nfs[0](100) = 1000\r\nfs[1](100) = 1001\r\nfs[2](100) = 1002\r\nfs[3](100) = 1003\r\nfs[4](100) = 1004\r\n\r\nbut that can be blamed on JavaScript.\r\n\r\nYou could call it either a bug in the languages, or a failure on our part to understand the implications of late-binding and the dynamic goodness.\r\n\r\n(Quite a pain to have to register before posting comments: have you considered OpenID?)"
email: 6ca82d17e7496d3c20b9c8038f87ae49
