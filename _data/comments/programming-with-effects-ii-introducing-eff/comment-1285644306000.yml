name: Ryan Ingram
date: '2010-09-28 05:25:06'
url: ''
message: "I'm really curious how you get your generic combine to work.  I haven't had a chance to build your system, but I really wonder what happens when you combine these two effects.\r\n\r\n[sourcecode]\r\neffect logger:\r\n   operation print msg:\r\n       (rest, x) = yield ()\r\n       (msg : rest, x)\r\n\r\ndata Tree x = Leaf x | Node (Tree x) (Tree x)\r\n\r\neffect treeChoice:\r\n   operation choose (a,b):\r\n       l = yield a\r\n       r = yield b\r\n       Node l r\r\n   return x: Leaf x\r\n[/sourcecode]\r\n\r\nI kind of want something that ends up like this effect:\r\n\r\n[sourcecode]\r\neffect choiceLogger:\r\n   effect print msg =\r\n      (log_result, result) = yield ()\r\n      (msg ++ log_result, result)\r\n      \r\n   effect choose (a,b):\r\n      l = yield a\r\n      r = yield b\r\n      (&quot;&quot;, Node (l,r))\r\n\r\n   return x = (&quot;&quot;, Leaf x)\r\n[/sourcecode]\r\n\r\nbut I bet you get the logs shared between branches, in some type\r\n[sourcecode]Result = Leaf (String, a) | Node Result Result[/sourcecode]\r\ninstead of\r\n[sourcecode]Result = (String, Leaf a | Node Result Result)[/sourcecode]"
email: e763e4069d889e9f2084a7af2ad14fd7
