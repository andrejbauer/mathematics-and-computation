name: Ryan Ingram
date: '2010-09-28 05:25:06'
url: ''
message: "I'm really curious how you get your generic combine to work.  I haven't had a chance to build your system, but I really wonder what happens when you combine these two effects.\n\n<pre>\neffect logger:\n   operation print msg:\n       (rest, x) = yield ()\n       (msg : rest, x)\n\ndata Tree x = Leaf x | Node (Tree x) (Tree x)\n\neffect treeChoice:\n   operation choose (a,b):\n       l = yield a\n       r = yield b\n       Node l r\n   return x: Leaf x\n</pre>\n\nI kind of want something that ends up like this effect:\n\n<pre>\neffect choiceLogger:\n   effect print msg =\n      (log_result, result) = yield ()\n      (msg ++ log_result, result)\n      \n   effect choose (a,b):\n      l = yield a\n      r = yield b\n      (&quot;&quot;, Node (l,r))\n\n   return x = (&quot;&quot;, Leaf x)\n</pre>\n\nbut I bet you get the logs shared between branches, in some type\n<pre>Result = Leaf (String, a) | Node Result Result</pre>\ninstead of\n<pre>Result = (String, Leaf a | Node Result Result)</pre>"
email: e763e4069d889e9f2084a7af2ad14fd7
