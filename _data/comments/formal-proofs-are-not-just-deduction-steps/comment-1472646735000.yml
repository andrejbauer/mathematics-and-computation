name: Neel Krishnaswami
date: '2016-08-31 14:32:15'
url: 'http://semantic-domain.blogspot.com'
message: "<blockquote>If we really do believe that computation is basic then\r\nproof checkers should allow general and explicit computation inside\r\nthe trusted core.</blockquote>\r\n\r\nCertainly not!\r\n\r\nI have moved away from the LCF/Nuprl style[*] and now actively prefer\r\nwhat Bob would call axiomatic or formal type theory with a normalizing\r\nnotion of judgmental equality. \r\n\r\nTo be usable in practice, a proof assistant needs a bunch of\r\nconvenience features like type inference, pattern matching,\r\noverloading, proof search, and so on. However, I think it is a bad\r\nidea to implement these features by LCF style elaboration on top of a\r\nNuprl-style core. This approach works great for verifying that a\r\ncomplete proof is correct, but most of the time, our \"proof\" objects\r\nare either incomplete or actively wrong. So we need very strong\r\nguarantees about broken proofs even more than we do for correct\r\nproofs.\r\n\r\nType inference offers a very good example of the issues\r\ninvolved. Suppose we are doing type inference, and know that a\r\nvariable has type A ? B and that it is being used at X ? Y. To check\r\nthis, we must check for the judgmental equality of these types, and\r\nalgorithmically we want to proceed by checking that A = X and B = Y.\r\nThat is, we want judgemental equality to be injective for the function\r\ntype constructor, which in Nuprl is obviously false: for example,\r\nconsider (x:0) ? String and (x:0) ? Bool, which are equated in Nuprl's\r\nmodel of the universe.\r\n\r\nIn contrast, in pure MLTT, the injectivity of the ?-former is an\r\nadmissible property of judgemental equality. As a result, a type\r\ninference procedure that relies upon this property will be complete\r\n(at least in this respect), and so a failure of type inference will\r\nreflect a genuine type error rather than a mere failure of a\r\nheuristic.\r\n\r\nThe fragility resulting from heuristic tactics is not hypothetical:\r\nGeorge Gonthier's proof of the four colour theorem no longer builds on\r\nmodern versions of Coq, due to small changes in how elaboration\r\nworks. (Still more inconceivable would be porting his proof to a\r\nsystem like Matita, despite it having the same kernel logic as Coq!)\r\n\r\nBasically, for a proof to be bearable, we need a bunch of convenience\r\nfeatures. Specifying these features in a reasonably declarative way\r\nrequires specifying when they *don't* work just as much as when they\r\ndo, and doing this in a implementable way requires a bunch of\r\nadmissible properties from the kernel type theory, most of which do\r\nnot hold in Nuprl-style calculi.\r\n\r\n[*] I have not, of course, rejected Nuprl-style semantics. For\r\nexample, it would be impossible to prove the decidability of\r\ntypechecking for the formal theories I prefer without logical\r\nrelations/realizability models. (Alas, usually two such models!)"
email: 092b7830019ff042b16d4d74643d4e83
